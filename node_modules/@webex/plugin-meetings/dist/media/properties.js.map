{"version":3,"names":["MediaProperties","options","MEETINGS","peerConnection","MediaUtil","createPeerConnection","mediaDirection","videoTrack","audioTrack","shareTrack","remoteShare","remoteAudioTrack","remoteVideoTrack","localQualityLevel","QUALITY_LEVELS","HIGH","remoteQualityLevel","mediaSettings","videoDeviceId","type","values","deviceId","turnServerInfo","LoggerProxy","logger","warn","unsetRemoteMedia","unsetLocalVideoTrack","unsetLocalShareTrack","unsetRemoteStream","unsetRemoteShare"],"sources":["properties.js"],"sourcesContent":["import {\n  MEETINGS,\n  QUALITY_LEVELS\n} from '../constants';\nimport LoggerProxy from '../common/logs/logger-proxy';\n\nimport MediaUtil from './util';\n\n/**\n * @class MediaProperties\n */\nexport default class MediaProperties {\n  namespace = MEETINGS;\n\n  /**\n   * @param {Object} [options] -- to auto construct\n   * @returns {MediaProperties}\n   */\n  constructor(options = {}) {\n    this.peerConnection = MediaUtil.createPeerConnection();\n    this.mediaDirection = options.mediaDirection;\n    this.videoTrack = options.videoTrack;\n    this.audioTrack = options.audioTrack;\n    this.shareTrack = options.shareTrack;\n    this.remoteShare = options.remoteShare;\n    this.remoteAudioTrack = options.remoteAudioTrack;\n    this.remoteVideoTrack = options.remoteVideoTrack;\n    this.localQualityLevel = options.localQualityLevel || QUALITY_LEVELS.HIGH;\n    this.remoteQualityLevel = options.remoteQualityLevel || QUALITY_LEVELS.HIGH;\n    this.mediaSettings = {};\n    this.videoDeviceId = null;\n  }\n\n  /**\n   * Retrieves the preferred video input device\n   * @returns {Object|null}\n   */\n  getVideoDeviceId() {\n    return this.videoDeviceId || null;\n  }\n\n  setMediaDirection(mediaDirection) {\n    this.mediaDirection = mediaDirection;\n  }\n\n  setMediaSettings(type, values) {\n    this.mediaSettings[type] = values;\n  }\n\n  setMediaPeerConnection(peerConnection) {\n    this.peerConnection = peerConnection;\n  }\n\n  setLocalVideoTrack(videoTrack) {\n    this.videoTrack = videoTrack;\n  }\n\n  setLocalAudioTrack(audioTrack) {\n    this.audioTrack = audioTrack;\n  }\n\n  setLocalQualityLevel(localQualityLevel) {\n    this.localQualityLevel = localQualityLevel;\n  }\n\n  setLocalShareTrack(shareTrack) {\n    this.shareTrack = shareTrack;\n  }\n\n  setRemoteQualityLevel(remoteQualityLevel) {\n    this.remoteQualityLevel = remoteQualityLevel;\n  }\n\n  setRemoteShare(remoteShare) {\n    this.remoteShare = remoteShare;\n  }\n\n  /**\n   * Sets the remote audio track\n   * @param {MediaTrack} remoteAudioTrack MediaTrack to save\n   * @returns {void}\n   */\n  setRemoteAudioTrack(remoteAudioTrack) {\n    this.remoteAudioTrack = remoteAudioTrack;\n  }\n\n  /**\n   * Sets the remote video track\n   * @param {MediaTrack} remoteVideoTrack MediaTrack to save\n   * @returns {void}\n   */\n  setRemoteVideoTrack(remoteVideoTrack) {\n    this.remoteVideoTrack = remoteVideoTrack;\n  }\n\n  /**\n   * Stores the preferred video input device\n   * @param {string} deviceId Preferred video input device\n   * @returns {void}\n   */\n  setVideoDeviceId(deviceId) {\n    this.videoDeviceId = deviceId;\n  }\n\n  unsetPeerConnection() {\n    this.peerConnection = null;\n  }\n\n  reInitiatePeerconnection(turnServerInfo) {\n    this.peerConnection = MediaUtil.createPeerConnection(turnServerInfo);\n  }\n\n  unsetLocalVideoTrack() {\n    this.videoTrack = null;\n  }\n\n  unsetLocalShareTrack() {\n    this.shareTrack = null;\n  }\n\n  unsetLocalAudioTrack() {\n    this.audioTrack = null;\n  }\n\n  /**\n   * Removes remote stream from class instance\n   * @deprecated after v1.89.3\n   * @returns {void}\n   */\n  unsetRemoteStream() {\n    LoggerProxy.logger.warn('Media:properties#unsetRemoteStream --> [DEPRECATION WARNING]: unsetRemoteStream has been deprecated after v1.89.3 (use unsetRemoteTracks instead)');\n    // unsets audio and video only\n    this.unsetRemoteMedia();\n  }\n\n  /**\n   * Removes both remote audio and video from class instance\n   * @returns {void}\n   */\n  unsetRemoteMedia() {\n    this.remoteAudioTrack = null;\n    this.remoteVideoTrack = null;\n  }\n\n  unsetRemoteShare() {\n    this.remoteShare = null;\n  }\n\n  unsetLocalVideoTracks() {\n    this.unsetLocalVideoTrack();\n    this.unsetLocalShareTrack();\n  }\n\n  /**\n   * Removes remote stream and remote share from class instance\n   * @deprecated after v1.89.3\n   * @returns {void}\n   */\n  unsetRemoteStreams() {\n    LoggerProxy.logger.warn('Media:properties#unsetRemoteStreams --> [DEPRECATION WARNING]: unsetRemoteStreams has been deprecated after v1.89.3 (use unsetRemoteTracks instead)');\n    this.unsetRemoteStream();\n    this.unsetRemoteShare();\n  }\n\n  /**\n   * Unsets all remote tracks\n   * @returns {void}\n   */\n  unsetRemoteTracks() {\n    this.unsetRemoteMedia();\n    this.unsetRemoteShare();\n  }\n\n  unsetShareStreams() {\n    this.unsetLocalShareTrack();\n    this.unsetRemoteShare();\n  }\n\n  /**\n   * Removes both local and remote video stream from class instance\n   * @deprecated after v1.89.3\n   * @returns {void}\n   */\n  unsetMediaStreams() {\n    LoggerProxy.logger.warn('Media:properties#unsetMediaStreams --> [DEPRECATION WARNING]: unsetMediaStreams has been deprecated after v1.89.3 (use unsetMediaTracks instead)');\n    this.unsetLocalVideoTrack();\n    this.unsetRemoteStream();\n  }\n\n  /**\n   * Removes both local and remote video stream from class instance\n   * @returns {void}\n   */\n  unsetMediaTracks() {\n    this.unsetLocalVideoTrack();\n    this.unsetRemoteMedia();\n  }\n}\n"],"mappings":"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"}