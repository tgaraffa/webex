{"version":3,"names":["LogsRequest","options","webex","id","feedbackId","uuid","v4","locusId","correlationId","meetingId","callStart","LoggerProxy","logger","info","internal","support","submitLogs","error","reject"],"sources":["request.js"],"sourcesContent":["import uuid from 'uuid';\n\nimport LoggerProxy from './logger-proxy';\n\n/**\n * @class LogsRequest\n */\nexport default class LogsRequest {\n  /**\n   *\n   * @param {Object} options\n   * @param {Object} options.webex Webex SDK instance\n   * @param {ClientMetrics} metrics\n   */\n  constructor(options) {\n    this.webex = options.webex;\n  }\n\n  /**\n   * Uploads logs to the support server\n   *\n   * @param {Object} [options={}]\n   * @param {String} [options.feedbackId=uuid.v4] ID used for tracking\n   * @param {String} [options.locusId]\n   * @param {String} [options.correlationId]\n   * @param {String} [options.callStart] Call Start Time\n   * @param {String} [options.meetingId] webex meeting ID\n   * @returns {Promise.<String>} Feedback ID\n   * @memberof LogsRequest\n   */\n  async uploadLogs(options = {}) {\n    const id = options.feedbackId || uuid.v4();\n    const {\n      locusId, correlationId, meetingId, callStart\n    } = options;\n\n    LoggerProxy.logger.info(`Logs:request#uploadLogs --> uploading user logs for feedbackId: ${id}`);\n\n    try {\n      await this.webex.internal.support.submitLogs({\n        feedbackId: id, locusId, correlationId, meetingId, callStart\n      });\n    }\n    catch (error) {\n      LoggerProxy.logger.error('Logs:request#uploadLogs --> uploading user logs failed', error);\n\n      return Promise.reject(error);\n    }\n\n    return id;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;AACA;AACA;IACqBA,W;EACnB;AACF;AACA;AACA;AACA;AACA;EACE,qBAAYC,OAAZ,EAAqB;IAAA;IACnB,KAAKC,KAAL,GAAaD,OAAO,CAACC,KAArB;EACD;EAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;gGACE;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAiBD,OAAjB,2DAA2B,EAA3B;gBACQE,EADR,GACaF,OAAO,CAACG,UAAR,IAAsBC,aAAA,CAAKC,EAAL,EADnC;gBAGIC,OAHJ,GAIMN,OAJN,CAGIM,OAHJ,EAGaC,aAHb,GAIMP,OAJN,CAGaO,aAHb,EAG4BC,SAH5B,GAIMR,OAJN,CAG4BQ,SAH5B,EAGuCC,SAHvC,GAIMT,OAJN,CAGuCS,SAHvC;;gBAMEC,oBAAA,CAAYC,MAAZ,CAAmBC,IAAnB,2EAA2FV,EAA3F;;gBANF;gBAAA;gBAAA,OASU,KAAKD,KAAL,CAAWY,QAAX,CAAoBC,OAApB,CAA4BC,UAA5B,CAAuC;kBAC3CZ,UAAU,EAAED,EAD+B;kBAC3BI,OAAO,EAAPA,OAD2B;kBAClBC,aAAa,EAAbA,aADkB;kBACHC,SAAS,EAATA,SADG;kBACQC,SAAS,EAATA;gBADR,CAAvC,CATV;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAcIC,oBAAA,CAAYC,MAAZ,CAAmBK,KAAnB,CAAyB,wDAAzB;;gBAdJ,iCAgBW,iBAAQC,MAAR,aAhBX;;cAAA;gBAAA,iCAmBSf,EAnBT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C"}