{"version":3,"names":["MembersRequest","MEETINGS","options","invitee","emailAddress","email","phoneNumber","locusUrl","ParameterError","requestParams","MembersUtil","getAddMemberRequestParams","request","memberIds","getAdmitMemberRequestParams","memberId","getRemoveMemberRequestParams","getMuteMemberRequestParams","getRaiseHandMemberRequestParams","requestingParticipantId","getLowerAllHandsMemberRequestParams","moderator","getTransferHostToMemberRequestParams","url","tones","generateSendDTMFRequestParams","generateCancelInviteRequestParams","StatelessWebexPlugin"],"sources":["request.js"],"sourcesContent":["import {StatelessWebexPlugin} from '@webex/webex-core';\n\nimport {MEETINGS} from '../constants';\nimport ParameterError from '../common/errors/parameter';\n\nimport MembersUtil from './util';\n\n\n/**\n * @class MembersRequest\n */\nexport default class MembersRequest extends StatelessWebexPlugin {\n  namespace = MEETINGS;\n\n  /**\n   *\n   * @param {Object} options with format of {invitee: string, locusUrl: string}\n   * @returns {Promise}\n   * @throws {Error} if the options are not valid and complete, must have invitee with emailAddress OR email AND locusUrl\n   * @memberof MembersRequest\n   */\n  addMembers(options) {\n    if (!(!options || !options.invitee || (!options.invitee.emailAddress || !options.invitee.email || !options.invitee.phoneNumber) || !options.locusUrl)) {\n      throw new ParameterError('invitee must be passed and the associated locus url for this meeting object must be defined.');\n    }\n    const requestParams = MembersUtil.getAddMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  /**\n   *\n   * @param {Object} options\n   * @returns {Promise}\n   * @throws {Error} if the options are not valid and complete, must have memberIds AND locusUrl\n   * @memberof MembersRequest\n   */\n  admitMember(options) {\n    if (!options || !options.locusUrl || !options.memberIds) {\n      throw new ParameterError('memberIds must be an array passed and the associated locus url for this meeting object must be defined.');\n    }\n    const requestParams = MembersUtil.getAdmitMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  removeMember(options) {\n    if (!options || !options.locusUrl || !options.memberId) {\n      throw new ParameterError('memberId must be defined, and the associated locus url for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.getRemoveMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  muteMember(options) {\n    if (!options || !options.locusUrl || !options.memberId) {\n      throw new ParameterError('memberId must be defined, and the associated locus url for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.getMuteMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  raiseOrLowerHandMember(options) {\n    if (!options || !options.locusUrl || !options.memberId) {\n      throw new ParameterError('memberId must be defined, and the associated locus url for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.getRaiseHandMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  lowerAllHandsMember(options) {\n    if (!options || !options.locusUrl || !options.requestingParticipantId) {\n      throw new ParameterError('requestingParticipantId must be defined, and the associated locus url for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.getLowerAllHandsMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  transferHostToMember(options) {\n    if (!options || !options.locusUrl || !options.memberId || !options.moderator) {\n      throw new ParameterError('memberId must be defined, the associated locus url, and the moderator for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.getTransferHostToMemberRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  /**\n   * Sends a request to the DTMF endpoint to send tones\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.url device url SIP user\n   * @param {String} options.tones a string of one or more DTMF tones to send\n   * @param {String} options.memberId ID of PSTN user\n   * @returns {Promise}\n   */\n  sendDialPadKey(options) {\n    if (!options || !options.locusUrl || !options.memberId || !options.url || !options.tones && options.tones !== 0) {\n      throw new ParameterError('memberId must be defined, the associated locus url, the device url and DTMF tones for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.generateSendDTMFRequestParams(options);\n\n    return this.request(requestParams);\n  }\n\n  /**\n   * @param {Object} options with format of {invitee: string, locusUrl: string}\n   * @returns {Promise}\n   * @throws {Error} if the options are not valid and complete, must have invitee with emailAddress OR email AND locusUrl\n   * @memberof MembersRequest\n   */\n  cancelPhoneInvite(options) {\n    if (!(options?.invitee?.phoneNumber || options?.locusUrl)) {\n      throw new ParameterError('invitee must be passed and the associated locus url for this meeting object must be defined.');\n    }\n\n    const requestParams = MembersUtil.generateCancelInviteRequestParams(options);\n\n    return this.request(requestParams);\n  }\n}\n"],"mappings":"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"}