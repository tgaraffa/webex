{"version":3,"names":["FullState","parse","fullState","type","FULL_STATE","UNKNOWN","meetingState","state","locked","getFullState","oldFullState","newFullState","previous","current","updates","isMeetingEnded","isMeetingTerminating","meetingTypeChangedTo","isTypeChanged","meetingStateChangedTo","meetingStateChange","INACTIVE","ACTIVE","INITIALIZING","TERMINATING"],"sources":["fullState.js"],"sourcesContent":["import {FULL_STATE} from '../constants';\n\nconst FullState = {};\n\nFullState.parse = (fullState) => ({\n  type: fullState.type || FULL_STATE.UNKNOWN,\n  meetingState: fullState.state,\n  locked: fullState.locked\n});\n\n\nFullState.getFullState = (oldFullState, newFullState) => {\n  const previous = oldFullState && FullState.parse(oldFullState);\n  const current = newFullState && FullState.parse(newFullState);\n\n  return {\n    previous,\n    current,\n    updates: {\n      isMeetingEnded: FullState.isMeetingEnded(previous, current),\n      isMeetingTerminating: FullState.isMeetingTerminating(previous, current),\n      meetingTypeChangedTo: FullState.isTypeChanged(previous, current),\n      meetingStateChangedTo: FullState.meetingStateChange(previous, current)\n    }\n  };\n};\n\nFullState.isMeetingEnded = (previous, current) => {\n  if (current.state === FULL_STATE.INACTIVE && previous &&\n   (previous.state === FULL_STATE.ACTIVE ||\n    previous.state === FULL_STATE.INITIALIZING ||\n    previous.state === FULL_STATE.TERMINATING)) {\n    return true;\n  }\n\n  return false;\n};\n\nFullState.isMeetingTerminating = (previous, current) => {\n  if (current.state === FULL_STATE.TERMINATING && previous &&\n  (previous.state === FULL_STATE.ACTIVE ||\n    previous.state === FULL_STATE.INITIALIZING)) {\n    return true;\n  }\n\n  return false;\n};\n\nFullState.isTypeChanged = (previous, current) => {\n  if (!previous || current.type !== previous.type) {\n    return current && current.type;\n  }\n\n  return null;\n};\n\nFullState.meetingStateChange = (previous, current) => {\n  if (!previous || current.meetingState !== previous.meetingState) {\n    return current && current.meetingState;\n  }\n\n  return null;\n};\n\nexport default FullState;\n"],"mappings":";;;;;;;;;;AAAA;;AAEA,IAAMA,SAAS,GAAG,EAAlB;;AAEAA,SAAS,CAACC,KAAV,GAAkB,UAACC,SAAD;EAAA,OAAgB;IAChCC,IAAI,EAAED,SAAS,CAACC,IAAV,IAAkBC,qBAAA,CAAWC,OADH;IAEhCC,YAAY,EAAEJ,SAAS,CAACK,KAFQ;IAGhCC,MAAM,EAAEN,SAAS,CAACM;EAHc,CAAhB;AAAA,CAAlB;;AAOAR,SAAS,CAACS,YAAV,GAAyB,UAACC,YAAD,EAAeC,YAAf,EAAgC;EACvD,IAAMC,QAAQ,GAAGF,YAAY,IAAIV,SAAS,CAACC,KAAV,CAAgBS,YAAhB,CAAjC;EACA,IAAMG,OAAO,GAAGF,YAAY,IAAIX,SAAS,CAACC,KAAV,CAAgBU,YAAhB,CAAhC;EAEA,OAAO;IACLC,QAAQ,EAARA,QADK;IAELC,OAAO,EAAPA,OAFK;IAGLC,OAAO,EAAE;MACPC,cAAc,EAAEf,SAAS,CAACe,cAAV,CAAyBH,QAAzB,EAAmCC,OAAnC,CADT;MAEPG,oBAAoB,EAAEhB,SAAS,CAACgB,oBAAV,CAA+BJ,QAA/B,EAAyCC,OAAzC,CAFf;MAGPI,oBAAoB,EAAEjB,SAAS,CAACkB,aAAV,CAAwBN,QAAxB,EAAkCC,OAAlC,CAHf;MAIPM,qBAAqB,EAAEnB,SAAS,CAACoB,kBAAV,CAA6BR,QAA7B,EAAuCC,OAAvC;IAJhB;EAHJ,CAAP;AAUD,CAdD;;AAgBAb,SAAS,CAACe,cAAV,GAA2B,UAACH,QAAD,EAAWC,OAAX,EAAuB;EAChD,IAAIA,OAAO,CAACN,KAAR,KAAkBH,qBAAA,CAAWiB,QAA7B,IAAyCT,QAAzC,KACFA,QAAQ,CAACL,KAAT,KAAmBH,qBAAA,CAAWkB,MAA9B,IACAV,QAAQ,CAACL,KAAT,KAAmBH,qBAAA,CAAWmB,YAD9B,IAEAX,QAAQ,CAACL,KAAT,KAAmBH,qBAAA,CAAWoB,WAH5B,CAAJ,EAG8C;IAC5C,OAAO,IAAP;EACD;;EAED,OAAO,KAAP;AACD,CATD;;AAWAxB,SAAS,CAACgB,oBAAV,GAAiC,UAACJ,QAAD,EAAWC,OAAX,EAAuB;EACtD,IAAIA,OAAO,CAACN,KAAR,KAAkBH,qBAAA,CAAWoB,WAA7B,IAA4CZ,QAA5C,KACHA,QAAQ,CAACL,KAAT,KAAmBH,qBAAA,CAAWkB,MAA9B,IACCV,QAAQ,CAACL,KAAT,KAAmBH,qBAAA,CAAWmB,YAF5B,CAAJ,EAE+C;IAC7C,OAAO,IAAP;EACD;;EAED,OAAO,KAAP;AACD,CARD;;AAUAvB,SAAS,CAACkB,aAAV,GAA0B,UAACN,QAAD,EAAWC,OAAX,EAAuB;EAC/C,IAAI,CAACD,QAAD,IAAaC,OAAO,CAACV,IAAR,KAAiBS,QAAQ,CAACT,IAA3C,EAAiD;IAC/C,OAAOU,OAAO,IAAIA,OAAO,CAACV,IAA1B;EACD;;EAED,OAAO,IAAP;AACD,CAND;;AAQAH,SAAS,CAACoB,kBAAV,GAA+B,UAACR,QAAD,EAAWC,OAAX,EAAuB;EACpD,IAAI,CAACD,QAAD,IAAaC,OAAO,CAACP,YAAR,KAAyBM,QAAQ,CAACN,YAAnD,EAAiE;IAC/D,OAAOO,OAAO,IAAIA,OAAO,CAACP,YAA1B;EACD;;EAED,OAAO,IAAP;AACD,CAND;;eAQeN,S"}