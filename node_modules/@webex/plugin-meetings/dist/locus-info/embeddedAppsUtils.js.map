{"version":3,"names":["EmbeddedAppsUtils","SLIDO_REGEX","parseApp","embeddedApp","parsedApp","type","EMBEDDED_APP_TYPES","OTHER","url","instanceInfo","appInstanceUrl","match","SLIDO","areSimilar","apps1","apps2","length","state","parse","embeddedApps","map"],"sources":["embeddedAppsUtils.js"],"sourcesContent":["import {EMBEDDED_APP_TYPES} from '../constants';\n\nconst EmbeddedAppsUtils = {};\n\nconst SLIDO_REGEX = /.sli.do\\//;\n\n/**\n * Parse the relevant values that we care about\n * @param {Object} embeddedApp - raw embedded app object\n * @returns {Object} parsedObject - parsed embedded app object\n */\nEmbeddedAppsUtils.parseApp = (embeddedApp) => {\n  const parsedApp = {...embeddedApp};\n\n  parsedApp.type = EMBEDDED_APP_TYPES.OTHER;\n  const url = parsedApp.instanceInfo?.appInstanceUrl;\n\n  if (url && url.match(SLIDO_REGEX)) {\n    parsedApp.type = EMBEDDED_APP_TYPES.SLIDO;\n  }\n\n  return parsedApp;\n};\n\n/**\n * Determines if two embedded apps arrays are similar.\n * NOTE: This is a simple test for performance reasons.\n * @param {any[]} apps1 - an array of apps\n * @param {any[]} apps2 - an array of apps\n * @returns {boolean} true if the arrays are different\n */\nEmbeddedAppsUtils.areSimilar = (apps1, apps2) => {\n  if (apps1?.length !== apps2?.length) {\n    return false;\n  }\n  if (apps1?.[0]?.state !== apps2?.[0]?.state) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Parse the array of embedded apps\n * @param {array} embeddedApps\n * @returns {array} result - new array of parsed embedded app objects\n */\nEmbeddedAppsUtils.parse = (embeddedApps) => embeddedApps && embeddedApps.map(EmbeddedAppsUtils.parseApp);\n\n\nexport default EmbeddedAppsUtils;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,iBAAiB,GAAG,EAA1B;AAEA,IAAMC,WAAW,GAAG,WAApB;AAEA;AACA;AACA;AACA;AACA;;AACAD,iBAAiB,CAACE,QAAlB,GAA6B,UAACC,WAAD,EAAiB;EAAA;;EAC5C,IAAMC,SAAS,qBAAOD,WAAP,CAAf;;EAEAC,SAAS,CAACC,IAAV,GAAiBC,6BAAA,CAAmBC,KAApC;EACA,IAAMC,GAAG,4BAAGJ,SAAS,CAACK,YAAb,0DAAG,sBAAwBC,cAApC;;EAEA,IAAIF,GAAG,IAAIA,GAAG,CAACG,KAAJ,CAAUV,WAAV,CAAX,EAAmC;IACjCG,SAAS,CAACC,IAAV,GAAiBC,6BAAA,CAAmBM,KAApC;EACD;;EAED,OAAOR,SAAP;AACD,CAXD;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAJ,iBAAiB,CAACa,UAAlB,GAA+B,UAACC,KAAD,EAAQC,KAAR,EAAkB;EAAA;;EAC/C,IAAI,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEE,MAAP,OAAkBD,KAAlB,aAAkBA,KAAlB,uBAAkBA,KAAK,CAAEC,MAAzB,CAAJ,EAAqC;IACnC,OAAO,KAAP;EACD;;EACD,IAAI,CAAAF,KAAK,SAAL,IAAAA,KAAK,WAAL,uBAAAA,KAAK,CAAG,CAAH,CAAL,oDAAYG,KAAZ,OAAsBF,KAAtB,aAAsBA,KAAtB,kCAAsBA,KAAK,CAAG,CAAH,CAA3B,4CAAsB,QAAYE,KAAlC,CAAJ,EAA6C;IAC3C,OAAO,KAAP;EACD;;EAED,OAAO,IAAP;AACD,CATD;AAWA;AACA;AACA;AACA;AACA;;;AACAjB,iBAAiB,CAACkB,KAAlB,GAA0B,UAACC,YAAD;EAAA,OAAkBA,YAAY,IAAIA,YAAY,CAACC,GAAb,CAAiBpB,iBAAiB,CAACE,QAAnC,CAAlC;AAAA,CAA1B;;eAGeF,iB"}