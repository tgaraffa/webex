{"version":3,"names":["PersonalMeetingRoomRequest","MEETINGS","options","userId","passcode","meetingAddress","preferred","ParameterError","validPin","PersonalMeetingRoomUtil","getClaimPmrPin","reject","validLink","getClaimPmrLink","request","getClaimedRequestParams","StatelessWebexPlugin"],"sources":["request.js"],"sourcesContent":["import {StatelessWebexPlugin} from '@webex/webex-core';\n\nimport {MEETINGS} from '../constants';\nimport ParameterError from '../common/errors/parameter';\n\nimport PersonalMeetingRoomUtil from './util';\n\n\n/**\n * @class MeetingInfoRequest\n */\nexport default class PersonalMeetingRoomRequest extends StatelessWebexPlugin {\n  namespace = MEETINGS;\n\n  /**\n   *\n   * @param {Object} options with format of {userId, passcode, meetingAddress, preferred}\n   * @returns {Promise} returns a promise that resolves/rejects the result of the request\n   * @memberof PersonalMeetingRoomRequest\n   */\n  claimPmr(options) {\n    if (!options || !options.userId || !options.passcode || !options.meetingAddress || !options.preferred) {\n      throw new ParameterError('Claiming a PMR should be done with userId, passcode, preferred, and meetingAddress in options.');\n    }\n    const validPin = PersonalMeetingRoomUtil.getClaimPmrPin(options.passcode);\n\n    if (!validPin) {\n      return Promise.reject(new ParameterError('The host pin provided was of an invalid format'));\n    }\n    const validLink = PersonalMeetingRoomUtil.getClaimPmrLink(options.meetingAddress);\n\n    if (!validLink) {\n      return Promise.reject(new ParameterError('The PMR link provided was of an invalid format'));\n    }\n    const request = PersonalMeetingRoomUtil.getClaimedRequestParams(validLink, validPin, options);\n\n    return this.request(request);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AAEA;;;;;;AAGA;AACA;AACA;IACqBA,0B;;;;;;;;;;;;;;;4FACPC,mB;;;;;;;IAEZ;AACF;AACA;AACA;AACA;AACA;IACE,kBAASC,OAAT,EAAkB;MAChB,IAAI,CAACA,OAAD,IAAY,CAACA,OAAO,CAACC,MAArB,IAA+B,CAACD,OAAO,CAACE,QAAxC,IAAoD,CAACF,OAAO,CAACG,cAA7D,IAA+E,CAACH,OAAO,CAACI,SAA5F,EAAuG;QACrG,MAAM,IAAIC,kBAAJ,CAAmB,gGAAnB,CAAN;MACD;;MACD,IAAMC,QAAQ,GAAGC,aAAA,CAAwBC,cAAxB,CAAuCR,OAAO,CAACE,QAA/C,CAAjB;;MAEA,IAAI,CAACI,QAAL,EAAe;QACb,OAAO,iBAAQG,MAAR,CAAe,IAAIJ,kBAAJ,CAAmB,gDAAnB,CAAf,CAAP;MACD;;MACD,IAAMK,SAAS,GAAGH,aAAA,CAAwBI,eAAxB,CAAwCX,OAAO,CAACG,cAAhD,CAAlB;;MAEA,IAAI,CAACO,SAAL,EAAgB;QACd,OAAO,iBAAQD,MAAR,CAAe,IAAIJ,kBAAJ,CAAmB,gDAAnB,CAAf,CAAP;MACD;;MACD,IAAMO,OAAO,GAAGL,aAAA,CAAwBM,uBAAxB,CAAgDH,SAAhD,EAA2DJ,QAA3D,EAAqEN,OAArE,CAAhB;;MAEA,OAAO,KAAKY,OAAL,CAAaA,OAAb,CAAP;IACD;;;EA1BqDE,+B"}