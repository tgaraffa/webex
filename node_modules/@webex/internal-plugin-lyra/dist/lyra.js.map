{"version":3,"names":["Lyra","WebexPlugin","extend","namespace","children","space","Space","device","Device","getAdvertisedEndpoint","token","webex","request","method","api","resource","qs","then","res","body"],"sources":["lyra.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {WebexPlugin} from '@webex/webex-core';\n\nimport Space from './space';\nimport Device from './device';\n\nconst Lyra = WebexPlugin.extend({\n  /**\n   * @typedef {Object} Endpoint\n   * @property {Object} advertiser\n   * @property {string} advertiser.id\n   * @property {string} advertiser.displayName\n   * @property {string} advertiser.orgId\n   * @property {Object} links\n   * @property {Object} links.addMeToSpace\n   * @property {string} links.addMeToSpace.href\n   * @property {string} links.addMeToSpace.method\n   * @property {Object} links.lyra_space\n   * @property {string} links.lyra_space.href\n   * @property {string} links.lyra_space.method\n   * @property {string} proof\n   * @property {Object} token\n   * @property {string} token.value\n   */\n  namespace: 'Lyra',\n  children: {\n    space: Space,\n    device: Device\n  },\n\n  /**\n   * Get the endpoint information\n   * @param {string} token - ultrasound token decoded\n   * @returns {Promise<Endpoint>}\n   */\n  getAdvertisedEndpoint(token) {\n    return this.webex.request({\n      method: 'GET',\n      api: 'proximity',\n      resource: '/ultrasound/advertisements',\n      qs: {\n        token\n      }\n    })\n      .then((res) => res.body);\n  }\n});\n\n\nexport default Lyra;\n"],"mappings":";;;;;;;;;;;;AAIA;;AAEA;;AACA;;AAPA;AACA;AACA;AAOA,IAAMA,IAAI,GAAGC,sBAAA,CAAYC,MAAZ,CAAmB;EAC9B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,SAAS,EAAE,MAlBmB;EAmB9BC,QAAQ,EAAE;IACRC,KAAK,EAAEC,cADC;IAERC,MAAM,EAAEC;EAFA,CAnBoB;;EAwB9B;AACF;AACA;AACA;AACA;EACEC,qBA7B8B,iCA6BRC,KA7BQ,EA6BD;IAC3B,OAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmB;MACxBC,MAAM,EAAE,KADgB;MAExBC,GAAG,EAAE,WAFmB;MAGxBC,QAAQ,EAAE,4BAHc;MAIxBC,EAAE,EAAE;QACFN,KAAK,EAALA;MADE;IAJoB,CAAnB,EAQJO,IARI,CAQC,UAACC,GAAD;MAAA,OAASA,GAAG,CAACC,IAAb;IAAA,CARD,CAAP;EASD,CAvC6B;EAAA;AAAA,CAAnB,CAAb;;eA2CenB,I"}